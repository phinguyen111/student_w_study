(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{75219:function(e,t,r){Promise.resolve().then(r.bind(r,90322))},90322:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var s=r(57437),n=r(2265),a=r(24033),l=r(61396),o=r.n(l),i=r(57508),c=r(10826),d=r(27815),m=r(85754),u=r(8957),x=r(82549),h=r(20173),f=r(11981),g=r(82104),b=r(81291),p=r(17158);function j(e){let{questions:t,passingScore:r,onComplete:a,onClose:l}=e,[o,i]=(0,n.useState)(0),[c,j]=(0,n.useState)([]),[N,v]=(0,n.useState)(!1),[y,w]=(0,n.useState)(0),k=(0,n.useMemo)(()=>t.map((e,t)=>{let r=[];return 0===t&&console.log("Original question options:",e.options,"Type:",typeof e.options,"IsArray:",Array.isArray(e.options)),Array.isArray(e.options)?r=e.options.map((e,t)=>{if("string"==typeof e)return e;if(e&&"object"==typeof e){let t=e.en||e.vi;if(t)return String(t);for(let t in e)if("_id"!==t&&"__v"!==t&&"string"==typeof e[t]&&e[t])return String(e[t]);return JSON.stringify(e)}return String(e)}):e.options&&"object"==typeof e.options&&(r=Object.keys(e.options).filter(e=>!isNaN(Number(e))&&"_id"!==e&&"__v"!==e).map(Number).sort((e,t)=>e-t).map(t=>{let r=e.options[t];if("string"==typeof r)return r;if(r&&"object"==typeof r){let e=r.en||r.vi;if(e)return String(e);for(let e in r)if("_id"!==e&&"__v"!==e&&"string"==typeof r[e]&&r[e])return String(r[e]);return JSON.stringify(r)}return String(r)})),0===t&&console.log("Normalized options:",r),{...e,options:r}}),[t]),_=e=>{let t=[...c];t[o]=e,j(t)},z=()=>{let e=0;k.forEach((t,r)=>{c[r]===t.correctAnswer&&e++}),w(e/k.length*10),v(!0)};if(N){let e=y>=r,t=Math.round(y/10*k.length);return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in",children:(0,s.jsxs)(d.Zb,{className:"w-full max-w-3xl max-h-[90vh] shadow-2xl border-2 animate-in zoom-in-95 duration-200 flex flex-col",children:[(0,s.jsx)(d.Ol,{className:"border-b flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(d.ll,{className:"text-2xl flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"h-6 w-6 ".concat(e?"text-yellow-500":"text-gray-400")}),"Quiz Results"]}),(0,s.jsx)(m.z,{variant:"ghost",size:"icon",onClick:l,children:(0,s.jsx)(x.Z,{className:"h-4 w-4"})})]})}),(0,s.jsxs)(d.aY,{className:"pt-6 overflow-y-auto flex-1 min-h-0",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full mb-4 ".concat(e?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"),children:(0,s.jsx)("div",{className:"text-5xl font-bold ".concat(e?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:y.toFixed(1)})}),(0,s.jsxs)("div",{className:"text-2xl font-bold mb-2 text-foreground",children:[y.toFixed(1),"/10"]}),(0,s.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2 ".concat(e?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{className:"h-6 w-6"}),(0,s.jsx)("p",{className:"text-xl font-semibold",children:"Congratulations! You passed!"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:"h-6 w-6"}),(0,s.jsxs)("p",{className:"text-xl font-semibold",children:["You need at least ",r,"/10 to pass"]})]})}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["You got ",t," out of ",k.length," questions correct"]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,s.jsxs)("span",{className:"font-medium",children:[t,"/",k.length]})]}),(0,s.jsx)("div",{className:"w-full bg-muted rounded-full h-3 overflow-hidden",children:(0,s.jsx)("div",{className:"h-full transition-all duration-500 ".concat(e?"bg-green-500":"bg-red-500"),style:{width:"".concat(t/k.length*100,"%")}})})]}),(0,s.jsx)("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto pr-2 scrollbar-thin",children:k.map((e,t)=>{let r=c[t],n=r===e.correctAnswer;return(0,s.jsxs)("div",{className:"p-4 rounded-lg border-2 ".concat(n?"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950/20":"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-950/20"),children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[n?(0,s.jsx)(h.Z,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}):(0,s.jsx)(g.Z,{className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,s.jsx)("p",{className:"font-semibold text-base flex-1",children:e.question})]}),(0,s.jsx)("div",{className:"space-y-2 ml-8",children:e.options.map((t,a)=>{let l="p-3 rounded-lg border-2 transition-all";return a===e.correctAnswer?l+=" border-green-500 bg-green-100 dark:bg-green-900/30 text-green-900 dark:text-green-100 font-medium":a!==r||n?l+=" border-border bg-background":l+=" border-red-500 bg-red-100 dark:bg-red-900/30 text-red-900 dark:text-red-100",(0,s.jsx)("div",{className:l,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[a===e.correctAnswer&&(0,s.jsx)(h.Z,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),a===r&&!n&&(0,s.jsx)(g.Z,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),(0,s.jsx)("span",{children:t})]})},a)})}),e.explanation&&(0,s.jsx)("div",{className:"mt-3 ml-8 p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[(0,s.jsx)("strong",{children:"Explanation:"})," ",e.explanation]})})]},t)})}),(0,s.jsx)("div",{className:"flex-shrink-0 pt-4 border-t",children:(0,s.jsx)(m.z,{onClick:()=>{a(y,void 0),l()},className:"w-full",size:"lg",children:"Continue Learning"})})]})]})})}let Z=k[o];if(!Z||!Z.options||0===Z.options.length)return null;let S=void 0!==c[o],C=(o+1)/k.length*100;return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in",children:(0,s.jsxs)(d.Zb,{className:"w-full max-w-3xl shadow-2xl border-2 animate-in zoom-in-95 duration-200",children:[(0,s.jsxs)(d.Ol,{className:"border-b",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(d.ll,{className:"text-2xl",children:"Quiz"}),(0,s.jsx)(m.z,{variant:"ghost",size:"icon",onClick:l,children:(0,s.jsx)(x.Z,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)(d.SZ,{className:"text-base",children:["Question ",o+1," of ",k.length]}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:[Math.round(C),"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:(0,s.jsx)("div",{className:"bg-primary h-full transition-all duration-300",style:{width:"".concat(C,"%")}})})]})]}),(0,s.jsxs)(d.aY,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-6 leading-tight",children:Z.question}),(0,s.jsx)("div",{className:"space-y-3",children:Z.options.map((e,t)=>{let r=c[o]===t;return(0,s.jsx)("button",{onClick:()=>_(t),className:"w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ".concat(r?"border-primary bg-primary/10 shadow-md scale-[1.02]":"border-border hover:border-primary/50 hover:bg-accent/50"),children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center ".concat(r?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/30"),children:r&&(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-current"})}),(0,s.jsx)("span",{className:"text-base",children:e})]})},t)})})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4 pt-4 border-t",children:[(0,s.jsxs)(m.z,{variant:"outline",onClick:()=>{o>0&&i(o-1)},disabled:0===o,className:"flex items-center gap-2",children:[(0,s.jsx)(b.Z,{className:"h-4 w-4"}),"Previous"]}),(0,s.jsx)(m.z,{onClick:()=>{o<k.length-1?i(o+1):z()},disabled:!S,className:"flex items-center gap-2",size:"lg",children:o===k.length-1?(0,s.jsxs)(s.Fragment,{children:["Submit Quiz",(0,s.jsx)(h.Z,{className:"h-4 w-4"})]}):(0,s.jsxs)(s.Fragment,{children:["Next",(0,s.jsx)(p.Z,{className:"h-4 w-4"})]})})]})]})]})})}var N=r(57393),v=r(83754),y=r(6435),w=r(62442),k=r(56224);function _(e){let{content:t}=e,{theme:a}=(0,y.F)(),[l,o]=(0,n.useState)(null),[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null);(0,n.useEffect)(()=>{c(!0),r.e(523).then(r.bind(r,4523)).then(e=>{u({dark:e.vscDarkPlus,light:e.oneLight})})},[]);let x=(e,t)=>{navigator.clipboard.writeText(e),o(t),setTimeout(()=>o(null),2e3)};if(!i||!d)return(0,s.jsx)("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:(0,s.jsx)(N.UG,{children:t})});let h="dark"===a?d.dark:d.light;return(0,s.jsx)("div",{className:"markdown-content",children:(0,s.jsx)(N.UG,{components:{h1:e=>{var t;let{node:r,...n}=e;return(0,s.jsx)("h1",{id:null===(t=n.children)||void 0===t?void 0:t.toString().toLowerCase().replace(/\s+/g,"-"),className:"text-4xl font-bold mt-8 mb-4 text-foreground scroll-mt-20",...n})},h2:e=>{var t;let{node:r,...n}=e;return(0,s.jsx)("h2",{id:null===(t=n.children)||void 0===t?void 0:t.toString().toLowerCase().replace(/\s+/g,"-"),className:"text-3xl font-bold mt-6 mb-3 text-foreground scroll-mt-20 border-b border-border pb-2",...n})},h3:e=>{var t;let{node:r,...n}=e;return(0,s.jsx)("h3",{id:null===(t=n.children)||void 0===t?void 0:t.toString().toLowerCase().replace(/\s+/g,"-"),className:"text-2xl font-semibold mt-4 mb-2 text-foreground scroll-mt-20",...n})},h4:e=>{let{node:t,...r}=e;return(0,s.jsx)("h4",{className:"text-xl font-semibold mt-4 mb-2 text-foreground",...r})},h5:e=>{let{node:t,...r}=e;return(0,s.jsx)("h5",{className:"text-lg font-semibold mt-3 mb-2 text-foreground",...r})},h6:e=>{let{node:t,...r}=e;return(0,s.jsx)("h6",{className:"text-base font-semibold mt-2 mb-2 text-foreground",...r})},p:e=>{let{node:t,...r}=e;return(0,s.jsx)("p",{className:"text-base leading-7 mb-4 text-foreground",...r})},ul:e=>{let{node:t,...r}=e;return(0,s.jsx)("ul",{className:"list-disc ml-6 mb-4 space-y-2",...r})},ol:e=>{let{node:t,...r}=e;return(0,s.jsx)("ol",{className:"list-decimal ml-6 mb-4 space-y-2",...r})},li:e=>{let{node:t,...r}=e;return(0,s.jsx)("li",{className:"text-base leading-7 text-foreground",...r})},a:e=>{let{node:t,...r}=e;return(0,s.jsx)("a",{className:"text-primary underline hover:text-primary/80 transition-colors font-medium",target:"_blank",rel:"noopener noreferrer",...r})},code:e=>{let{node:t,inline:r,className:n,children:a,...o}=e,i=/language-(\w+)/.exec(n||""),c=String(a).replace(/\n$/,""),d="code-".concat(Math.random().toString(36).substr(2,9));return!r&&i?(0,s.jsxs)("div",{className:"relative my-6 group",children:[(0,s.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,s.jsx)(m.z,{variant:"ghost",size:"sm",onClick:()=>x(c,d),className:"h-8 px-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l===d?(0,s.jsx)(w.Z,{className:"h-3 w-3 text-green-500"}):(0,s.jsx)(k.Z,{className:"h-3 w-3"})})}),(0,s.jsx)(v.Z,{language:i[1],style:h,customStyle:{margin:0,borderRadius:"0.5rem",padding:"1.5rem",fontSize:"0.875rem",lineHeight:"1.5"},...o,children:c})]}):(0,s.jsx)("code",{className:"text-sm bg-muted px-1.5 py-0.5 rounded font-mono text-foreground",...o,children:a})},blockquote:e=>{let{node:t,...r}=e;return(0,s.jsx)("blockquote",{className:"border-l-4 border-primary pl-4 italic my-4 text-muted-foreground bg-muted/50 py-2 rounded-r",...r})},table:e=>{let{node:t,...r}=e;return(0,s.jsx)("div",{className:"overflow-x-auto my-6",children:(0,s.jsx)("table",{className:"min-w-full border-collapse border border-border rounded-lg",...r})})},thead:e=>{let{node:t,...r}=e;return(0,s.jsx)("thead",{className:"bg-muted",...r})},tbody:e=>{let{node:t,...r}=e;return(0,s.jsx)("tbody",{...r})},tr:e=>{let{node:t,...r}=e;return(0,s.jsx)("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors",...r})},th:e=>{let{node:t,...r}=e;return(0,s.jsx)("th",{className:"border border-border px-4 py-2 text-left font-semibold text-foreground",...r})},td:e=>{let{node:t,...r}=e;return(0,s.jsx)("td",{className:"border border-border px-4 py-2 text-foreground",...r})},img:e=>{let{node:t,...r}=e;return(0,s.jsx)("img",{className:"rounded-lg my-6 shadow-lg max-w-full h-auto border border-border",...r})},hr:e=>{let{node:t,...r}=e;return(0,s.jsx)("hr",{className:"my-8 border-t border-border",...r})},strong:e=>{let{node:t,...r}=e;return(0,s.jsx)("strong",{className:"font-bold text-foreground",...r})},em:e=>{let{node:t,...r}=e;return(0,s.jsx)("em",{className:"italic",...r})}},children:t})})}var z=r(4969),Z=r(86264),S=r(9865),C=r(73067),I=r(92455);function E(){let e=(0,a.useParams)(),t=(0,a.useRouter)(),{isAuthenticated:r,loading:l}=(0,i.useAuth)(),[u,x]=(0,n.useState)(null),[h,f]=(0,n.useState)(!0),[g,b]=(0,n.useState)(!1),{startTracking:p,stopTracking:N}=(0,z.n)();(0,n.useEffect)(()=>{l||r||t.push("/login")},[r,l,t]),(0,n.useEffect)(()=>(r&&e.lessonId&&(v(),p()),()=>{N()}),[r,e.lessonId]);let v=async()=>{try{let t=(await c.Z.get("/lessons/".concat(e.lessonId,"?lang=en"))).data.lesson;x(t)}catch(e){console.error("Error fetching lesson:",e)}finally{f(!1)}},y=async(t,r)=>{try{await c.Z.post("/progress/quiz/".concat(e.lessonId),{quizScore:t,codeScore:void 0!==r?r:void 0}),N()}catch(e){console.error("Error submitting quiz:",e)}};return l||h?(0,s.jsx)("div",{className:"container mx-auto px-4 py-16 flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(Z.Z,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground",children:"Loading lesson..."})]})}):u?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(185_80%_98%)] via-[hsl(210_60%_98%)] to-[hsl(250_60%_98%)] dark:from-[hsl(220_30%_8%)] dark:via-[hsl(230_30%_10%)] dark:to-[hsl(240_30%_12%)]",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[(0,s.jsxs)("nav",{className:"mb-6 flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(o(),{href:"/learn",className:"hover:text-foreground transition-colors",children:"Learn"}),(0,s.jsx)("span",{children:"/"}),(0,s.jsx)(o(),{href:"/learn/".concat(e.langId),className:"hover:text-foreground transition-colors",children:"Language"}),(0,s.jsx)("span",{children:"/"}),(0,s.jsxs)(o(),{href:"/learn/".concat(e.langId,"/level/").concat(u.levelId._id),className:"hover:text-foreground transition-colors",children:["Level ",u.levelId.levelNumber]}),(0,s.jsx)("span",{children:"/"}),(0,s.jsx)("span",{className:"text-foreground font-medium",children:"Lesson"})]}),(0,s.jsx)(o(),{href:"/learn/".concat(e.langId,"/level/").concat(u.levelId._id),children:(0,s.jsxs)(m.z,{variant:"ghost",className:"mb-6",children:[(0,s.jsx)(C.Z,{className:"h-4 w-4 mr-2"}),"Back"]})}),(0,s.jsx)(d.Zb,{className:"mb-6 shadow-lg border-2",children:(0,s.jsx)(d.Ol,{className:"pb-4",children:(0,s.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(S.Z,{className:"h-5 w-5 text-primary"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-primary",children:["Level ",u.levelId.levelNumber]})]}),(0,s.jsx)(d.ll,{className:"text-3xl md:text-4xl mb-2 leading-tight",children:u.title}),(0,s.jsx)(d.SZ,{className:"text-base",children:u.levelId.title})]})})})}),(0,s.jsx)(d.Zb,{className:"mb-6 shadow-lg",children:(0,s.jsxs)(d.aY,{className:"pt-6",children:[(0,s.jsx)("div",{className:"max-w-none",children:(0,s.jsx)(_,{content:u.content})}),u.codeExample&&(0,s.jsxs)("div",{className:"mt-8 pt-6 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(I.Z,{className:"h-5 w-5 text-primary"}),(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Code Example"})]}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,s.jsx)(m.z,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(u.codeExample||"")},className:"h-8 px-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)(k.Z,{className:"h-3 w-3"})})}),(0,s.jsx)(_,{content:"```html\n".concat(u.codeExample,"\n```")})]})]})]})}),(0,s.jsx)(d.Zb,{className:"shadow-lg border-2 border-primary/30 bg-gradient-to-br from-[hsl(185_80%_95%)] via-[hsl(210_60%_95%)] to-[hsl(250_60%_95%)] dark:from-[hsl(185_80%_15%)] dark:via-[hsl(210_60%_15%)] dark:to-[hsl(250_60%_15%)]",children:(0,s.jsxs)(d.aY,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Ready to test your knowledge?"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose how you want to practice"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)(m.z,{onClick:()=>b(!0),size:"lg",variant:"default",className:"w-full h-24 flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)(S.Z,{className:"h-6 w-6"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Take Quiz"}),(0,s.jsxs)("div",{className:"text-xs opacity-90",children:[u.quiz.questions.length," questions"]})]})]}),(0,s.jsxs)(m.z,{onClick:()=>t.push("/learn/".concat(e.langId,"/lesson/").concat(e.lessonId,"/code")),size:"lg",variant:"outline",className:"w-full h-24 flex flex-col items-center justify-center gap-2 border-2",children:[(0,s.jsx)(I.Z,{className:"h-6 w-6"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Code Exercise"}),(0,s.jsx)("div",{className:"text-xs opacity-90",children:"Practice coding"})]})]})]})]})}),g&&u.quiz.questions.length>0&&(0,s.jsx)(j,{questions:u.quiz.questions,passingScore:u.quiz.passingScore,onComplete:y,onClose:()=>b(!1)})]})}):(0,s.jsx)("div",{className:"container mx-auto px-4 py-16 text-center min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(S.Z,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Lesson not found"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"The lesson you're looking for doesn't exist."}),(0,s.jsx)(o(),{href:"/learn/".concat(e.langId),children:(0,s.jsx)(m.z,{children:"Go Back"})})]})})}},85754:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var s=r(57437),n=r(2265),a=r(96061),l=r(1657);let o=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,...i}=e;return(0,s.jsx)("button",{className:(0,l.cn)(o({variant:n,size:a,className:r})),ref:t,...i})});i.displayName="Button"},27815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},ll:function(){return i}});var s=r(57437),n=r(2265),a=r(1657);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});i.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},57508:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return i},useAuth:function(){return c}});var s=r(57437),n=r(2265),a=r(10826),l=r(24033);let o=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0),m=(0,l.useRouter)();(0,n.useEffect)(()=>{u()},[]);let u=async()=>{try{if(localStorage.getItem("token")){let e=await a.Z.get("/auth/me");i(e.data.user)}}catch(e){localStorage.removeItem("token")}finally{d(!1)}},x=async(e,t)=>{let r=await a.Z.post("/auth/login",{email:e,password:t});localStorage.setItem("token",r.data.token),i(r.data.user),m.push("/learn")},h=async(e,t,r)=>{let s=await a.Z.post("/auth/register",{email:e,password:t,name:r});localStorage.setItem("token",s.data.token),i(s.data.user),m.push("/learn")};return(0,s.jsx)(o.Provider,{value:{user:r,loading:c,login:x,register:h,logout:()=>{localStorage.removeItem("token"),i(null),m.push("/")},isAuthenticated:!!r},children:t})}function c(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4969:function(e,t,r){"use strict";r.d(t,{n:function(){return l}});var s=r(2265),n=r(10826),a=r(57508);function l(){let e=(0,s.useRef)(null),t=(0,s.useRef)(null),{isAuthenticated:r}=(0,a.useAuth)(),l=async()=>{if(t.current&&(clearInterval(t.current),t.current=null),e.current&&r){let t=Math.floor((Date.now()-e.current)/6e4);if(t>0)try{await n.Z.post("/progress/time",{minutes:t})}catch(e){console.error("Error updating study time:",e)}e.current=null}};return(0,s.useEffect)(()=>()=>{l()},[]),{startTracking:()=>{r&&(e.current=Date.now(),t.current=setInterval(async()=>{if(e.current&&Math.floor((Date.now()-e.current)/6e4)>0)try{await n.Z.post("/progress/time",{minutes:1}),e.current=Date.now()}catch(e){console.error("Error updating study time:",e)}},6e4))},stopTracking:l}}},10826:function(e,t,r){"use strict";let s=r(54829).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),t.Z=s},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(57042),n=r(74769);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[267,634,96,971,938,744],function(){return e(e.s=75219)}),_N_E=e.O()}]);