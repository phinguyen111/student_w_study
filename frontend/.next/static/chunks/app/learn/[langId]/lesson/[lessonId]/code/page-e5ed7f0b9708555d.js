(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2],{62898:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:l,className:i="",children:d,...u},m)=>(0,s.createElement)("svg",{ref:m,...n,width:o,height:o,stroke:r,strokeWidth:l?24*Number(c)/Number(o):c,className:["lucide",`lucide-${a(e)}`,i].join(" "),...u},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r}},73067:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},20173:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62898).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},92455:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62898).Z)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},65628:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62898).Z)("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]])},86264:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},94900:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62898).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},15432:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62898).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},24205:function(e,t,r){Promise.resolve().then(r.bind(r,85482))},85482:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return CodeExercisePage}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57437),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2265),next_navigation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24033),next_navigation__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__),next_link__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(61396),next_link__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_3__),_hooks_useAuth__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(57508),_lib_api__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10826),_components_ui_card__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(27815),_components_ui_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85754),_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(86264),_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(65628),_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(73067),_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(92455),_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(15432),_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(94900),_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(20173),_hooks_useTimeTracker__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4969);function CodeExercisePage(){let params=(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)(),router=(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),{isAuthenticated,loading}=(0,_hooks_useAuth__WEBPACK_IMPORTED_MODULE_4__.useAuth)(),[lesson,setLesson]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[loadingLesson,setLoadingLesson]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[code,setCode]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[output,setOutput]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[isRunning,setIsRunning]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[iframeKey,setIframeKey]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),[isSubmitting,setIsSubmitting]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),{stopTracking}=(0,_hooks_useTimeTracker__WEBPACK_IMPORTED_MODULE_8__.n)();(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{loading||isAuthenticated||router.push("/login")},[isAuthenticated,loading,router]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{isAuthenticated&&params.lessonId&&fetchLesson()},[isAuthenticated,params.lessonId]);let fetchLesson=async()=>{try{var e;let t=(await _lib_api__WEBPACK_IMPORTED_MODULE_5__.Z.get("/lessons/".concat(params.lessonId))).data.lesson;console.log("Lesson data:",t),console.log("CodeExercise:",t.codeExercise),setLesson(t),(null===(e=t.codeExercise)||void 0===e?void 0:e.starterCode)?setCode(t.codeExercise.starterCode):console.warn("No codeExercise found in lesson data")}catch(e){console.error("Error fetching lesson:",e)}finally{setLoadingLesson(!1)}},handleRun=()=>{setIsRunning(!0),setOutput("");try{var _lesson_codeExercise;if((null==lesson?void 0:null===(_lesson_codeExercise=lesson.codeExercise)||void 0===_lesson_codeExercise?void 0:_lesson_codeExercise.language)==="javascript")try{let result=eval(code);void 0!==result?setOutput(String(result)):setOutput("Code executed successfully!")}catch(error){setOutput("Error: ".concat(error.message))}else setOutput("Code executed successfully!"),setIframeKey(e=>e+1)}catch(error){setOutput("Error: ".concat(error.message))}finally{setIsRunning(!1)}},handleReset=()=>{var e;(null==lesson?void 0:null===(e=lesson.codeExercise)||void 0===e?void 0:e.starterCode)&&setCode(lesson.codeExercise.starterCode),setOutput("")},handleSubmit=async()=>{setIsSubmitting(!0);try{let e=10;output&&output.toLowerCase().includes("error")?e=5:output&&""!==output.trim()||(e=7),await _lib_api__WEBPACK_IMPORTED_MODULE_5__.Z.post("/progress/code/".concat(params.lessonId),{codeScore:e,code}),stopTracking(),alert("Code submitted successfully! Score: ".concat(e,"/10")),router.push("/learn/".concat(params.langId,"/lesson/").concat(params.lessonId))}catch(e){console.error("Error submitting code:",e),alert("Failed to submit code. Please try again.")}finally{setIsSubmitting(!1)}};return loading||loadingLesson?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"container mx-auto px-4 py-16 flex items-center justify-center min-h-screen",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_9__.Z,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-lg text-muted-foreground",children:"Loading..."})]})}):lesson&&lesson.codeExercise?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(185_80%_98%)] via-[hsl(210_60%_98%)] to-[hsl(250_60%_98%)] dark:from-[hsl(220_30%_8%)] dark:via-[hsl(230_30%_10%)] dark:to-[hsl(240_30%_12%)]",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_3___default(),{href:"/learn/".concat(params.langId,"/lesson/").concat(params.lessonId),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.z,{variant:"ghost",className:"mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_11__.Z,{className:"h-4 w-4 mr-2"}),"Back to Lesson"]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Zb,{className:"mb-6 shadow-lg border-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Ol,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_12__.Z,{className:"h-6 w-6 text-primary"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.ll,{className:"text-2xl",children:"Code Exercise"})]}),lesson.codeExercise.description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:lesson.codeExercise.description})})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Zb,{className:"mb-6 shadow-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.aY,{className:"pt-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-sm font-medium",children:"Language:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded text-sm",children:lesson.codeExercise.language.toUpperCase()})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.z,{variant:"outline",size:"sm",onClick:handleReset,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_13__.Z,{className:"h-4 w-4 mr-2"}),"Reset Code"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"relative",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea",{value:code,onChange:e=>setCode(e.target.value),className:"w-full h-96 p-4 font-mono text-sm bg-[hsl(220_40%_96%)] dark:bg-[hsl(220_30%_10%)] border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Write your code here...",spellCheck:!1})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.z,{onClick:handleRun,disabled:isRunning||isSubmitting,variant:"outline",className:"flex-1",size:"lg",children:isRunning?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_9__.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_14__.Z,{className:"h-4 w-4 mr-2"}),"Run Code"]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.z,{onClick:handleSubmit,disabled:isSubmitting||isRunning,className:"flex-1",size:"lg",children:isSubmitting?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_9__.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_15__.Z,{className:"h-4 w-4 mr-2"}),"Submit Code"]})})]}),output&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-semibold text-sm",children:"Output:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"p-4 bg-muted rounded-lg border",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:output})})]}),("html"===lesson.codeExercise.language||"css"===lesson.codeExercise.language)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-semibold text-sm",children:"Preview:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"border rounded-lg overflow-hidden bg-white dark:bg-[hsl(220_30%_8%)]",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("iframe",{onLoad:e=>{var t;let r=e.currentTarget,s=r.contentDocument||(null===(t=r.contentWindow)||void 0===t?void 0:t.document);s&&lesson.codeExercise&&(s.open(),"html"===lesson.codeExercise.language?s.write(code):s.write("\n                              <!DOCTYPE html>\n                              <html>\n                              <head>\n                                <style>".concat(code,'</style>\n                              </head>\n                              <body>\n                                <div class="demo-container">\n                                  <h1>CSS Demo</h1>\n                                  <p>This is a paragraph styled with your CSS.</p>\n                                  <div class="box">Box Element</div>\n                                  <button>Button Element</button>\n                                </div>\n                              </body>\n                              </html>\n                            ')),s.close())},className:"w-full h-96 border-0",sandbox:"allow-scripts allow-same-origin",title:"Code Output"},"".concat(iframeKey,"-").concat(code.length))})]})]})})})]})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"container mx-auto px-4 py-16 text-center min-h-screen flex items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowLeft_CheckCircle2_Code_FileCode_Loader2_Play_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_10__.Z,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Code Exercise Not Available"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-muted-foreground mb-4",children:"This lesson does not have a code exercise."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_3___default(),{href:"/learn/".concat(params.langId,"/lesson/").concat(params.lessonId),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.z,{children:"Back to Lesson"})})]})})}},85754:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var s=r(57437),n=r(2265),a=r(96061),o=r(1657);let c=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,...l}=e;return(0,s.jsx)("button",{className:(0,o.cn)(c({variant:n,size:a,className:r})),ref:t,...l})});l.displayName="Button"},27815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},SZ:function(){return i},Zb:function(){return o},aY:function(){return d},ll:function(){return l}});var s=r(57437),n=r(2265),a=r(1657);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});o.displayName="Card";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});c.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});l.displayName="CardTitle";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});i.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},57508:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return l},useAuth:function(){return i}});var s=r(57437),n=r(2265),a=r(10826),o=r(24033);let c=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,n.useState)(null),[i,d]=(0,n.useState)(!0),u=(0,o.useRouter)();(0,n.useEffect)(()=>{m()},[]);let m=async()=>{try{if(localStorage.getItem("token")){let e=await a.Z.get("/auth/me");l(e.data.user)}}catch(e){localStorage.removeItem("token")}finally{d(!1)}},h=async(e,t)=>{let r=await a.Z.post("/auth/login",{email:e,password:t});localStorage.setItem("token",r.data.token),l(r.data.user),u.push("/learn")},f=async(e,t,r)=>{let s=await a.Z.post("/auth/register",{email:e,password:t,name:r});localStorage.setItem("token",s.data.token),l(s.data.user),u.push("/learn")},x=()=>{localStorage.removeItem("token"),l(null),u.push("/")};return(0,s.jsx)(c.Provider,{value:{user:r,loading:i,login:h,register:f,logout:x,isAuthenticated:!!r},children:t})}function i(){let e=(0,n.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4969:function(e,t,r){"use strict";r.d(t,{n:function(){return o}});var s=r(2265),n=r(10826),a=r(57508);function o(){let e=(0,s.useRef)(null),t=(0,s.useRef)(null),{isAuthenticated:r}=(0,a.useAuth)(),o=()=>{r&&(e.current=Date.now(),t.current=setInterval(async()=>{if(e.current&&Math.floor((Date.now()-e.current)/6e4)>0)try{await n.Z.post("/progress/time",{minutes:1}),e.current=Date.now()}catch(e){console.error("Error updating study time:",e)}},6e4))},c=async()=>{if(t.current&&(clearInterval(t.current),t.current=null),e.current&&r){let t=Math.floor((Date.now()-e.current)/6e4);if(t>0)try{await n.Z.post("/progress/time",{minutes:t})}catch(e){console.error("Error updating study time:",e)}e.current=null}};return(0,s.useEffect)(()=>()=>{c()},[]),{startTracking:o,stopTracking:c}}},10826:function(e,t,r){"use strict";var s=r(54829);let n="http://localhost:5000/api",a=s.Z.create({baseURL:n,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),t.Z=a},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(57042),n=r(74769);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[267,634,971,938,744],function(){return t(24205)}),_N_E=e.O()}]);