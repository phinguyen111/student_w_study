(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{62898:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),a=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:i="",children:o,...u},x)=>(0,s.createElement)("svg",{ref:x,...l,width:a,height:a,stroke:r,strokeWidth:d?24*Number(c)/Number(a):c,className:["lucide",`lucide-${n(e)}`,i].join(" "),...u},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return r.displayName=`${e}`,r}},9865:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62898).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},87205:function(e,t,r){Promise.resolve().then(r.bind(r,4619))},4619:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(57437),l=r(2265),n=r(57508),a=r(24033),c=r(10826),d=r(27815),i=r(62898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),u=(0,i.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var x=r(9865);function h(){let{isAuthenticated:e,user:t,loading:r}=(0,n.useAuth)(),i=(0,a.useRouter)(),[h,m]=(0,l.useState)(null),[g,p]=(0,l.useState)(!0);(0,l.useEffect)(()=>{r||e||i.push("/login")},[e,r,i]),(0,l.useEffect)(()=>{e&&b()},[e]);let b=async()=>{try{let e=await c.Z.get("/progress");m(e.data.progress)}catch(e){console.error("Error fetching progress:",e)}finally{p(!1)}};return r||g?(0,s.jsx)("div",{className:"container mx-auto px-4 py-16 text-center",children:(0,s.jsx)("p",{children:"Đang tải..."})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-16 max-w-4xl min-h-screen bg-gradient-to-br from-[hsl(185_80%_98%)] via-[hsl(210_60%_98%)] to-[hsl(250_60%_98%)] dark:from-[hsl(220_30%_8%)] dark:via-[hsl(230_30%_10%)] dark:to-[hsl(240_30%_12%)]",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-8 bg-gradient-to-r from-[hsl(185_80%_45%)] via-[hsl(210_60%_55%)] to-[hsl(250_60%_55%)] bg-clip-text text-transparent",children:"Hồ sơ"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(o,{className:"h-5 w-5 text-orange-500"}),"Chuỗi"]})}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)("p",{className:"text-3xl font-bold",children:[(null==h?void 0:h.currentStreak)||0," ng\xe0y"]})})]}),(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(u,{className:"h-5 w-5 text-blue-500"}),"Thời gian học"]})}),(0,s.jsxs)(d.aY,{children:[(0,s.jsxs)("p",{className:"text-3xl font-bold",children:[Math.round(((null==h?void 0:h.totalStudyTime)||0)/60)," giờ"]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(null==h?void 0:h.totalStudyTime)||0," ph\xfat tổng cộng"]})]})]}),(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"h-5 w-5 text-green-500"}),"B\xe0i học đ\xe3 ho\xe0n th\xe0nh"]})}),(0,s.jsx)(d.aY,{children:(0,s.jsx)("p",{className:"text-3xl font-bold",children:(null==h?void 0:h.completedLessonIds.length)||0})})]})]}),h&&h.lessonScores.length>0&&(0,s.jsxs)(d.Zb,{className:"mb-8",children:[(0,s.jsxs)(d.Ol,{children:[(0,s.jsx)(d.ll,{children:"Thống k\xea điểm số"}),(0,s.jsx)(d.SZ,{children:"Điểm Quiz v\xe0 Code Exercise theo từng b\xe0i học"})]}),(0,s.jsx)(d.aY,{children:(0,s.jsx)("div",{className:"space-y-4",children:h.lessonScores.map((e,t)=>(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"font-semibold",children:["B\xe0i ",e.lessonId.lessonNumber,": ",e.lessonId.title]})}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("p",{className:"text-lg font-bold",children:["Tổng: ",e.totalScore.toFixed(1),"/20"]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[(0,s.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Điểm Quiz"}),(0,s.jsx)("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:null!==e.quizScore?"".concat(e.quizScore.toFixed(1),"/10"):"Chưa l\xe0m"})]}),(0,s.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[e.quizAttempts," lần thử"]})]}),(0,s.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Điểm Code"}),(0,s.jsx)("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:null!==e.codeScore?"".concat(e.codeScore.toFixed(1),"/10"):"Chưa l\xe0m"})]}),(0,s.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300",children:[e.codeAttempts," lần thử"]})]})]})]},t))})})]}),h&&h.lessonScores.length>0&&(0,s.jsxs)(d.Zb,{className:"mb-8",children:[(0,s.jsxs)(d.Ol,{children:[(0,s.jsx)(d.ll,{children:"Thống k\xea tổng quan"}),(0,s.jsx)(d.SZ,{children:"Tổng hợp điểm số Quiz v\xe0 Code"})]}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,s.jsx)("p",{className:"text-sm text-blue-900 dark:text-blue-100 mb-2",children:"Điểm Quiz trung b\xecnh"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[(()=>{let e=h.lessonScores.filter(e=>null!==e.quizScore).map(e=>e.quizScore);return e.length>0?(e.reduce((e,t)=>e+t,0)/e.length).toFixed(1):"0.0"})(),"/10"]}),(0,s.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:[h.lessonScores.filter(e=>null!==e.quizScore).length," b\xe0i đ\xe3 l\xe0m"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[(0,s.jsx)("p",{className:"text-sm text-green-900 dark:text-green-100 mb-2",children:"Điểm Code trung b\xecnh"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[(()=>{let e=h.lessonScores.filter(e=>null!==e.codeScore).map(e=>e.codeScore);return e.length>0?(e.reduce((e,t)=>e+t,0)/e.length).toFixed(1):"0.0"})(),"/10"]}),(0,s.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:[h.lessonScores.filter(e=>null!==e.codeScore).length," b\xe0i đ\xe3 l\xe0m"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-950/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[(0,s.jsx)("p",{className:"text-sm text-purple-900 dark:text-purple-100 mb-2",children:"Điểm tổng trung b\xecnh"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[(()=>{let e=h.lessonScores.filter(e=>e.totalScore>0).map(e=>e.totalScore);return e.length>0?(e.reduce((e,t)=>e+t,0)/e.length/2).toFixed(1):"0.0"})(),"/10"]}),(0,s.jsxs)("p",{className:"text-xs text-purple-700 dark:text-purple-300 mt-1",children:[h.lessonScores.filter(e=>e.totalScore>0).length," b\xe0i đ\xe3 ho\xe0n th\xe0nh"]})]})]})})]}),h&&h.levelScores.length>0&&(0,s.jsxs)(d.Zb,{children:[(0,s.jsxs)(d.Ol,{children:[(0,s.jsx)(d.ll,{children:"Tiến độ cấp độ"}),(0,s.jsx)(d.SZ,{children:"Điểm số của bạn theo cấp độ"})]}),(0,s.jsx)(d.aY,{children:(0,s.jsx)("div",{className:"space-y-4",children:h.levelScores.map((e,t)=>(0,s.jsx)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold",children:["Cấp độ ",e.levelId.levelNumber,": ",e.levelId.title]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Điểm trung b\xecnh: ",e.averageScore.toFixed(1),"/10"]})]})},t))})})]})]})}},27815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},SZ:function(){return i},Zb:function(){return a},aY:function(){return o},ll:function(){return d}});var s=r(57437),l=r(2265),n=r(1657);let a=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...l})});a.displayName="Card";let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...l})});c.displayName="CardHeader";let d=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...l})});d.displayName="CardTitle";let i=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...l})});i.displayName="CardDescription";let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...l})});o.displayName="CardContent",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...l})}).displayName="CardFooter"},57508:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return d},useAuth:function(){return i}});var s=r(57437),l=r(2265),n=r(10826),a=r(24033);let c=(0,l.createContext)(void 0);function d(e){let{children:t}=e,[r,d]=(0,l.useState)(null),[i,o]=(0,l.useState)(!0),u=(0,a.useRouter)();(0,l.useEffect)(()=>{x()},[]);let x=async()=>{try{if(localStorage.getItem("token")){let e=await n.Z.get("/auth/me");d(e.data.user)}}catch(e){localStorage.removeItem("token")}finally{o(!1)}},h=async(e,t)=>{let r=await n.Z.post("/auth/login",{email:e,password:t});localStorage.setItem("token",r.data.token),d(r.data.user),u.push("/learn")},m=async(e,t,r)=>{let s=await n.Z.post("/auth/register",{email:e,password:t,name:r});localStorage.setItem("token",s.data.token),d(s.data.user),u.push("/learn")};return(0,s.jsx)(c.Provider,{value:{user:r,loading:i,login:h,register:m,logout:()=>{localStorage.removeItem("token"),d(null),u.push("/")},isAuthenticated:!!r},children:t})}function i(){let e=(0,l.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},10826:function(e,t,r){"use strict";let s=r(54829).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),t.Z=s},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(57042),l=r(74769);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.m6)((0,s.W)(t))}}},function(e){e.O(0,[267,971,938,744],function(){return e(e.s=87205)}),_N_E=e.O()}]);