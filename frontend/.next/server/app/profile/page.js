(()=>{var e={};e.id=178,e.ids=[178],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},63893:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c});var t=r(50482),l=r(69108),a=r(62563),d=r.n(a),n=r(68300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);r.d(s,i);let c=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,48654)),"D:\\PhiNguyen\\learn\\frontend\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,78085)),"D:\\PhiNguyen\\learn\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\PhiNguyen\\learn\\frontend\\app\\profile\\page.tsx"],x="/profile/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},46004:(e,s,r)=>{Promise.resolve().then(r.bind(r,28713))},28713:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(95344),l=r(3729),a=r(79110),d=r(22254),n=r(18117),i=r(61351);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,r(69224).Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var o=r(25545),x=r(63211),m=r(23425),h=r(64290),p=r(73229);function u(){let{isAuthenticated:e,user:s,loading:r}=(0,a.useAuth)(),u=(0,d.useRouter)(),[g,b]=(0,l.useState)(null),[j,f]=(0,l.useState)(!0),[N,k]=(0,l.useState)([]);(0,l.useEffect)(()=>{r||e||u.push("/login")},[e,r,u]);let v=async()=>{try{let e=await n.Z.get("/progress");b(e.data.progress)}catch(e){console.error("Error fetching progress:",e)}finally{f(!1)}},y=async()=>{try{let e=await n.Z.get("/progress/quiz-assignments/results");k(e.data.results||[])}catch(e){console.error("Error fetching assignment results:",e)}};return((0,l.useEffect)(()=>{e&&(v(),y())},[e]),r||j)?t.jsx("div",{className:"container mx-auto px-4 py-16 text-center",children:t.jsx("p",{children:"Đang tải..."})}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-16 max-w-4xl min-h-screen bg-gradient-to-br from-[hsl(185_80%_98%)] via-[hsl(210_60%_98%)] to-[hsl(250_60%_98%)] dark:from-[hsl(220_30%_8%)] dark:via-[hsl(230_30%_10%)] dark:to-[hsl(240_30%_12%)]",children:[t.jsx("h1",{className:"text-4xl font-bold mb-8 bg-gradient-to-r from-[hsl(185_80%_45%)] via-[hsl(210_60%_55%)] to-[hsl(250_60%_55%)] bg-clip-text text-transparent",children:"Hồ sơ"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[t.jsx(c,{className:"h-5 w-5 text-orange-500"}),"Chuỗi"]})}),t.jsx(i.aY,{children:(0,t.jsxs)("p",{className:"text-3xl font-bold",children:[g?.currentStreak||0," ng\xe0y"]})})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[t.jsx(o.Z,{className:"h-5 w-5 text-blue-500"}),"Thời gian học"]})}),(0,t.jsxs)(i.aY,{children:[(0,t.jsxs)("p",{className:"text-3xl font-bold",children:[Math.round((g?.totalStudyTime||0)/60)," giờ"]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[g?.totalStudyTime||0," ph\xfat tổng cộng"]})]})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[t.jsx(x.Z,{className:"h-5 w-5 text-green-500"}),"B\xe0i học đ\xe3 ho\xe0n th\xe0nh"]})}),t.jsx(i.aY,{children:t.jsx("p",{className:"text-3xl font-bold",children:g?.completedLessonIds.length||0})})]})]}),g&&g.lessonScores.length>0&&(0,t.jsxs)(i.Zb,{className:"mb-8",children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Thống k\xea điểm số"}),t.jsx(i.SZ,{children:"Điểm Quiz v\xe0 Code Exercise theo từng b\xe0i học"})]}),t.jsx(i.aY,{children:t.jsx("div",{className:"space-y-4",children:g.lessonScores.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{children:(0,t.jsxs)("p",{className:"font-semibold",children:["B\xe0i ",e.lessonId.lessonNumber,": ",e.lessonId.title]})}),t.jsx("div",{className:"text-right",children:(0,t.jsxs)("p",{className:"text-lg font-bold",children:["Tổng: ",e.totalScore.toFixed(1),"/20"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[(0,t.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Điểm Quiz"}),t.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:null!==e.quizScore?`${e.quizScore.toFixed(1)}/10`:"Chưa l\xe0m"})]}),(0,t.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[e.quizAttempts," lần thử"]})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Điểm Code"}),t.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:null!==e.codeScore?`${e.codeScore.toFixed(1)}/10`:"Chưa l\xe0m"})]}),(0,t.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300",children:[e.codeAttempts," lần thử"]})]})]})]},s))})})]}),g&&g.lessonScores.length>0&&(0,t.jsxs)(i.Zb,{className:"mb-8",children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Thống k\xea tổng quan"}),t.jsx(i.SZ,{children:"Tổng hợp điểm số Quiz v\xe0 Code"})]}),t.jsx(i.aY,{children:(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[t.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 mb-2",children:"Điểm Quiz trung b\xecnh"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[(()=>{let e=g.lessonScores.filter(e=>null!==e.quizScore).map(e=>e.quizScore);return e.length>0?(e.reduce((e,s)=>e+s,0)/e.length).toFixed(1):"0.0"})(),"/10"]}),(0,t.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:[g.lessonScores.filter(e=>null!==e.quizScore).length," b\xe0i đ\xe3 l\xe0m"]})]}),(0,t.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsx("p",{className:"text-sm text-green-900 dark:text-green-100 mb-2",children:"Điểm Code trung b\xecnh"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[(()=>{let e=g.lessonScores.filter(e=>null!==e.codeScore).map(e=>e.codeScore);return e.length>0?(e.reduce((e,s)=>e+s,0)/e.length).toFixed(1):"0.0"})(),"/10"]}),(0,t.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:[g.lessonScores.filter(e=>null!==e.codeScore).length," b\xe0i đ\xe3 l\xe0m"]})]}),(0,t.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-950/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[t.jsx("p",{className:"text-sm text-purple-900 dark:text-purple-100 mb-2",children:"Điểm tổng trung b\xecnh"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[(()=>{let e=g.lessonScores.filter(e=>e.totalScore>0).map(e=>e.totalScore);return e.length>0?(e.reduce((e,s)=>e+s,0)/e.length/2).toFixed(1):"0.0"})(),"/10"]}),(0,t.jsxs)("p",{className:"text-xs text-purple-700 dark:text-purple-300 mt-1",children:[g.lessonScores.filter(e=>e.totalScore>0).length," b\xe0i đ\xe3 ho\xe0n th\xe0nh"]})]})]})})]}),N.length>0&&(0,t.jsxs)(i.Zb,{className:"mb-8",children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[t.jsx(m.Z,{className:"h-5 w-5"}),"Điểm Quiz Assignments"]}),t.jsx(i.SZ,{children:"Điểm số Quiz Assignments (ri\xeang biệt với Quiz của b\xe0i học)"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("div",{className:"space-y-4",children:N.map(e=>{let s=new Date(e.assignmentId.deadline);return(0,t.jsxs)("div",{className:`p-4 border-2 rounded-lg ${e.passed?"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950/20":"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-950/20"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-lg",children:e.assignmentId.title}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Deadline: ",s.toLocaleString()," • Passing: ",e.assignmentId.passingScore,"/10"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[e.passed?t.jsx(h.Z,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):t.jsx(p.Z,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-bold text-xl",children:[e.score.toFixed(1),"/10"]}),t.jsx("p",{className:`text-sm font-medium ${e.passed?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:e.passed?"Passed":"Failed"})]})]})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Submitted: ",new Date(e.submittedAt).toLocaleString()]})]},e._id)})}),t.jsx("div",{className:"mt-6 pt-4 border-t",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Quiz Assignments Done"}),t.jsx("p",{className:"text-2xl font-bold",children:N.length})]}),(0,t.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Average Score"}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[N.length>0?(N.reduce((e,s)=>e+s.score,0)/N.length).toFixed(1):"0.0","/10"]})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsx("p",{className:"text-sm text-green-900 dark:text-green-100 mb-1",children:"Passed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:N.filter(e=>e.passed).length})]}),(0,t.jsxs)("div",{className:"p-3 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200 dark:border-red-800",children:[t.jsx("p",{className:"text-sm text-red-900 dark:text-red-100 mb-1",children:"Failed"}),t.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:N.filter(e=>!e.passed).length})]})]})})]})]}),g&&g.levelScores.length>0&&(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Tiến độ cấp độ"}),t.jsx(i.SZ,{children:"Điểm số của bạn theo cấp độ"})]}),t.jsx(i.aY,{children:t.jsx("div",{className:"space-y-4",children:g.levelScores.map((e,s)=>t.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-semibold",children:["Cấp độ ",e.levelId.levelNumber,": ",e.levelId.title]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Điểm trung b\xecnh: ",e.averageScore.toFixed(1),"/10"]})]})},s))})})]})]})}},61351:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>n,SZ:()=>c,Zb:()=>d,aY:()=>o,ll:()=>i});var t=r(95344),l=r(3729),a=r(91626);let d=l.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));d.displayName="Card";let n=l.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let i=l.forwardRef(({className:e,...s},r)=>t.jsx("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));i.displayName="CardTitle";let c=l.forwardRef(({className:e,...s},r)=>t.jsx("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=l.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",l.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},63211:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},64290:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},23425:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},25545:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},73229:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},48654:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>a,__esModule:()=>l,default:()=>d});let t=(0,r(86843).createProxy)(String.raw`D:\PhiNguyen\learn\frontend\app\profile\page.tsx`),{__esModule:l,$$typeof:a}=t,d=t.default}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[350,498],()=>r(63893));module.exports=t})();